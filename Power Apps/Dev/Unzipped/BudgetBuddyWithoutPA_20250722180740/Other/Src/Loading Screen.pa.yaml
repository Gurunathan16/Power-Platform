# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Loading Screen:
    Properties:
      Fill: =RGBA(255, 255, 255, 1)
      LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    Children:
      - LS Main Container:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            Height: =Parent.Height
            Width: =Parent.Width
            X: '=0   '
          Children:
            - LS Loading GIF:
                Control: Spinner@1.4.6
                Properties:
                  AccessibleLabel: ="Spinner"
                  Appearance: ='Spinner.Appearance'.Primary
                  BasePaletteColor: =RGBA(227, 106, 244, 1)
                  FontColor: =RGBA(62, 128, 149, 1)
                  FontWeight: =FontWeight.Bold
                  SpinnerSize: ='Spinner.SpinnerSize'.Huge
                  TrackColor: =RGBA(255, 255, 255, 1)
                  X: =Round((Parent.Width - Self.Width) / 2, 0)
                  Y: =Round((Parent.Height - Self.Height) / 2, 0)
            - LS Please Wait Text Label:
                Control: Text@0.0.51
                Properties:
                  Align: ='TextCanvas.Align'.Center
                  Font: =Font.'Segoe UI'
                  FontColor: =RGBA(159, 50, 176, 1)
                  Height: ='LS Loading GIF'.Height * 0.2
                  Size: =20
                  Text: ="Please wait..."
                  VerticalAlign: =VerticalAlign.Middle
                  Weight: ='TextCanvas.Weight'.Semibold
                  Width: ='LS Loading GIF'.Width
                  X: ='LS Loading GIF'.X
                  Y: ='LS Loading GIF'.Y + ('LS Loading GIF'.Height * 0.75)
            - LS Timer:
                Control: Timer@2.1.0
                Properties:
                  AutoStart: =true
                  BorderColor: =RGBA(0, 120, 212, 1)
                  BorderStyle: =BorderStyle.None
                  Color: =RGBA(255, 255, 255, 1)
                  DisabledBorderColor: =RGBA(242, 242, 241, 0)
                  DisabledColor: =RGBA(161, 159, 157, 1)
                  DisabledFill: =RGBA(242, 242, 241, 0)
                  Duration: =2000
                  Fill: =RGBA(0, 120, 212, 1)
                  Font: =Font.'Segoe UI'
                  HoverBorderColor: =RGBA(16, 110, 190, 1)
                  HoverColor: =RGBA(255, 255, 255, 1)
                  HoverFill: =RGBA(16, 110, 190, 1)
                  OnTimerEnd: |-
                    =If(fromWhichScreen = 1, 
                        If(
                            !IsBlank(
                                LookUp(
                                    'Balance Log', EntraObjectID = Text(User().EntraObjectId) && 'Current Balance' <> currentBalanceIF)),
                            Navigate('Success Screen',ScreenTransition.Fade)),
                        If(
                            !IsBlank(
                                LookUp(
                                    'Balance Log', EntraObjectID = Text(User().EntraObjectId) && 'Current Balance' <> currentBalanceEF)),
                            Navigate('Success Screen',ScreenTransition.Fade)))
                  PressedBorderColor: =RGBA(16, 110, 190, 1)
                  PressedColor: =RGBA(255, 255, 255, 1)
                  PressedFill: =RGBA(16, 110, 190, 1)
                  Repeat: =true
                  Visible: =false
                  X: =40
                  Y: =40
